<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Clappr-google-ima-html5-preroll by kslimani</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/can-autoplay@3.0.0/build/can-autoplay.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clappr@0.3.1/dist/clappr.min.js"></script>
    <script src="javascripts/main.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clappr-google-ima-html5-preroll-plugin@latest/dist/clappr-google-ima-html5-preroll-plugin.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=800, user-scalable=yes" />
    <style>
      #player {
        width: 640px;
        height: 360px;
      }
    </style>
  </head>
  <body>

      <header>
        <h1>Clappr-google-ima-html5-preroll</h1>
        <p>Google IMA HTML5 preroll ad plugin for Clappr player</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/kslimani/clappr-google-ima-html5-preroll" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/kslimani/clappr-google-ima-html5-preroll/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/kslimani/clappr-google-ima-html5-preroll/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h3>
          <a id="google-ima-preroll-ad-plugin-for-clappr-player" class="anchor" href="#google-ima-preroll-ad-plugin-for-clappr-player" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google IMA preroll ad plugin for Clappr player
        </h3>

        <p></p>
        <div class="playerContainer">
          <div id="player"></div>
          <script>
            (function () {
              // Clappr.Log.setLevel(0)

              // Sintel trailer - (c) copyright Blender Foundation - www.sintel.org
              var videoUrl = 'https://static.playmedia-cdn.net/resources/sample/h264_sintel_trailer-1080p.mp4'

              // Single Inline Linear. See https://developers.google.com/interactive-media-ads/docs/sdks/html5/tags
              var vastTag = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator='

              var player;

              // Handle browser autoplay policy
              canAutoplay.video({timeout: 800, muted: false}).then(function(o) {
                var ap = o.result === true;
                player = new Clappr.Player({
                  parentId: "#player",
                  source: videoUrl,
                  disableKeyboardShortcuts: true,
                  disableVideoTagContextMenu: true,
                  autoSeekFromUrl: false,
                  autoPlay: false,
                  width: "100%",
                  height: "100%",
                  playback: {
                    playInline: true,
                    recycleVideo: Clappr.Browser.isMobile,
                  },
                  plugins: {
                    core: [ClapprGoogleImaHtml5PrerollPlugin],
                  },
                  googleImaHtml5PrerollPlugin: {
                    tag: vastTag,
                    autostart: ap,
                  },
                });
              });

            })()
          </script>
        </div>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/kslimani">kslimani</a></p>
        <p><small>Sintel trailer - (c) copyright Blender Foundation - <a href="https://www.sintel.org">www.sintel.org</a></small></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
